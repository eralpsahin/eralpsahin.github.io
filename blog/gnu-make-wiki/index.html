<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.55.6"><link rel=stylesheet type=text/css href=https://eralpsahin.com/css/post.css><link rel=stylesheet type=text/css href=https://eralpsahin.com/css/main.css><title>GNU Make Wiki | Eralp Sahin</title></head><body><div class=stackedit><div class=stackedit__left><div class=stackedit__toc><nav class=navigation><ul><li><a href=/ title=Homepage id=homepage><svg class="link" viewBox="0 0 30 30"><path class="cls-1" d="M15 8.15 4.7 16.64a.2.2.0 0 1 0 .05.28.28.0 0 0 0 .05v8.6a1.16 1.16.0 0 0 1.15 1.15h6.88V19.61h4.58v6.88h6.88a1.16 1.16.0 0 0 1.15-1.15v-8.6a.25.25.0 0 0 0-.11zm0 0"/><path class="cls-1" d="M29.23 14.7l-3.92-3.26V4.14a.55.55.0 0 0-.57-.57H21.3a.55.55.0 0 0-.57.57V7.63L16.36 4a2.22 2.22.0 0 0-2.72.0L.76 14.7a.52.52.0 0 0-.2.38.58.58.0 0 0 .13.42L1.8 16.84a.61.61.0 0 0 .38.2.67.67.0 0 0 .43-.13L15 6.57 27.39 16.91a.55.55.0 0 0 .38.13h.05a.61.61.0 0 0 .38-.2l1.11-1.33a.58.58.0 0 0 .12-.42.52.52.0 0 0-.2-.38zm0 0"/></svg></a></li><li><a href=/blog title=Blog id=blog><svg class="link" viewBox="0 0 40 40"><path class="cls-3" d="M24.39 17.41l1.75 1 3.51-2-5.26-3.13zm0 0" /><path d="M35 11l1.25-2.26C37.3 7 34.41 5 33 4.25s-4.51-2.38-5.51-.5l-1.75 3A28 28 0 0 0 20 6.13C9.6 6.13 1.2 11.77 1.2 18.66S9.6 31.19 20 31.19h.13c.13 1.5-1.63 4-4.14 5.26a17.3 17.3.0 0 0 14.41-7.4c5-2.26 8.27-6 8.27-10.4.25-2.88-1.25-5.51-3.64-7.64zM9.85 22.17a1.76 1.76.0 1 1 1.75-1.75 1.79 1.79.0 0 1-1.75 1.75zm4.64.0a1.76 1.76.0 1 1 1.75-1.75 1.71 1.71.0 0 1-1.75 1.75zm4.64.0a1.76 1.76.0 1 1 1.75-1.75 1.71 1.71.0 0 1-1.75 1.75zm11.16-5.39-3.63 2-3 1.63V12.89l5-8.65c.25-.5 2 0 3.89 1S35.67 7.5 35.29 8zm0 0"
                            /></svg></a></li><li><a href=https://github.com/eralpsahin title=GitHub id=github target=_blank><svg class="link" aria-label="GitHub" viewBox="0 0 16 16"><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27.68.0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38C13.71 14.53 16 11.53 16 8c0-4.42-3.58-8-8-8z"/></svg></a></li></ul></nav><ul><li><a href=#gnu-make-wiki>GNU Make Wiki</a><ul><li><a href=#glossary>Glossary</a></li><li><a href=#makefile-rule-syntax>Makefile Rule Syntax</a><ul><li><a href=#simple-rule>Simple Rule</a></li></ul></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#useful-command-line-options>Useful command-line options</a></li><li><a href=#references>References</a></li></ul></li></ul></div></div><div class=stackedit__right><div class=stackedit__html><h1 id=gnu-make-wiki>GNU Make Wiki</h1><blockquote><p>This markdown is a sketched summary of the <em>Managing Projects with GNU Make</em>.<sup class=footnote-ref><a href=#fn1 id=fnref1>1</a></sup></p></blockquote><h2 id=glossary>Glossary</h2><ol><li><strong>Target</strong>: Usually the name of the file generated by the command, sometimes the name
of the action such as <code>clean</code>.</li><li><strong>Prerequisite</strong>: Other <em>target</em> that is required to build the current one. A
rule may include multiple prerequisites. <em>Prerequisites</em> can also be non-target files.</li><li><strong>Recipe</strong>: Set of commands for the <em>target</em>.</li><li><strong>Rule</strong>: The combination of <em>target</em> <em>prerequisite</em> and <em>recipe</em>.</li><li><strong>Goal</strong>: Goals are the targets that <code>make</code> strives ultimately to update.</li></ol><h2 id=makefile-rule-syntax>Makefile Rule Syntax</h2><pre class=language-makefile><code class="prism  language-makefile"><span class="token symbol">target1 target2</span><span class="token punctuation">:</span> prerequisite1 prerequisite2 ...
	recipe1
	recipe2
	...
</code></pre><ul><li><em>Rule</em> starts with the <em>target</em>, then a colon <em>:</em> to separate
<em>prerequisites</em> written in the same line. <em>Recipes</em> are written on new line after a
tab <code>\t</code> character.</li><li><em>Target</em> of a rule is generally single but it can also be multiple.</li><li>Comment character in <em>makefile</em> is <code>#</code>.</li><li>Both multiline comments and prerequisites can be continued by using <code>\</code> (Unix escape
character).</li></ul><p>Makefile can be executed by <code>make</code> command. <code>make</code> cli has an optional
<em>target</em> argument. Default behavior is to use the first <em>target</em> from the makefile called
<em>default goal</em>.</p><h3 id=simple-rule>Simple Rule</h3><pre class=language-makefile><code class="prism  language-makefile"><span class="token symbol">foo</span><span class="token punctuation">:</span> foo.c
	gcc foo.c -o foo
</code></pre><p>Typically real <em>makefiles</em> consist of more rules. Ordering of the rules in a <em>makefile</em> is
generally from the most general rule to its detailed rules. Most general <em>target</em> at the top of
the <em>makefile</em> is generally called <em>all</em>.</p><p>Simply, <code>make</code> decides what target to build by checking <em>prerequisites</em>. It prepares
the <em>prerequisites</em> of the <em>rule</em> before executing the <em>recipe</em> of the
<em>target</em> itself. If a <em>target</em> is newer than all of its <em>prerequisites</em>, meaning no
change has been done, <code>make</code> won’t rebuild the <em>target</em>.</p><h2 id=prerequisites>Prerequisites</h2><ul><li>Library flags can also be prerequisites, for example the <code>-lfl</code> flag for flex library.
When <code>-l&lt;NAME&gt;</code> is seen <code>make</code> searches for
<code>lib&lt;NAME&gt;.so</code> and <code>lib&lt;NAME&gt;.a</code> files.</li></ul><h2 id=useful-command-line-options>Useful command-line options</h2><ul><li><code>--just-print</code> or <code>-n</code> displays commands that would be executed for a given
<em>target</em>.</li></ul><h2 id=references>References</h2><hr class=footnotes-sep><section class=footnotes><ol class=footnotes-list><li id=fn1 class=footnote-item><p><a href=#>Mecklenburg, R. (2004). <em>Managing Projects with GNU Make: The Power of GNU
Make for Building Anything</em>. " O’Reilly Media, Inc."</a> <a href=#fnref1 class=footnote-backref>↩︎</a></p></li></ol></section></div></div></div></body><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script src=https://unpkg.com/zooming@2.1.1/build/zooming.min.js></script><script src=https://eralpsahin.com/js/post.js></script></html>